{"ast":null,"code":"import{useEffect,useState}from\"react\";import\"./App.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const App=()=>{const[notes,setNotes]=useState([]);const handleAddNote=async event=>{event.preventDefault();const response=await fetch(\"http://localhost:5001/api/notes\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({title,content})});const newNote=await response.json();try{setNotes([newNote,...notes]);setTitle(\"\");setContent(\"\");}catch(e){console.log(e);}};const[title,setTitle]=useState(\"\");const[content,setContent]=useState(\"\");const[selectedNote,setSelectedNote]=useState(null);useEffect(()=>{const fetchNotes=async()=>{try{const response=await fetch(\"http://localhost:5001/api/notes\");const notes=await response.json();setNotes(notes);}catch(e){console.log(e);}};fetchNotes();},[]);const handleNoteClick=note=>{setSelectedNote(note);setTitle(note.title);setContent(note.content);};const handleUpdateNote=async event=>{event.preventDefault();if(!selectedNote){return;}try{const response=await fetch(`http://localhost:5001/api/notes/${selectedNote.id}`,{method:'PUT',headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({title,content})});const updatedNote=await response.json();const updatedNoteList=notes.map(note=>note.id===selectedNote.id?updatedNote:note);setNotes(updatedNoteList);setTitle(\"\");setContent(\"\");setSelectedNote(null);}catch(e){console.log(e);}};const handleCancel=()=>{setTitle(\"\");setContent(\"\");setSelectedNote(null);};const deleteNote=async(event,noteId)=>{event.stopPropagation();try{await fetch(`http://localhost:5001/api/notes/${noteId}`,{method:\"DELETE\"});const updatedNotes=notes.filter(note=>note.id!==noteId);setNotes(updatedNotes);}catch(e){console.log(e);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"app-container\",children:[/*#__PURE__*/_jsxs(\"form\",{className:\"note-form\",onSubmit:event=>selectedNote?handleUpdateNote(event):handleAddNote(event),children:[/*#__PURE__*/_jsx(\"input\",{value:title,onChange:event=>setTitle(event.target.value),placeholder:\"Title\",required:true}),/*#__PURE__*/_jsx(\"textarea\",{value:content,onChange:event=>setContent(event.target.value),placeholder:\"Content\",rows:10,required:true}),selectedNote?/*#__PURE__*/_jsxs(\"div\",{className:\"edit-buttons\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Save\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCancel,children:\"Cancel\"})]}):/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Add Note\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"notes-grid\",children:notes.map(note=>/*#__PURE__*/_jsxs(\"div\",{className:\"notes-item\",onClick:()=>handleNoteClick(note),children:[/*#__PURE__*/_jsx(\"div\",{className:\"notes-header\",children:/*#__PURE__*/_jsx(\"button\",{onClick:event=>deleteNote(event,note.id),children:\"x\"})}),/*#__PURE__*/_jsx(\"h2\",{children:note.title}),/*#__PURE__*/_jsx(\"p\",{children:note.content})]}))})]});};export default App;","map":{"version":3,"names":["useEffect","useState","jsx","_jsx","jsxs","_jsxs","App","notes","setNotes","handleAddNote","event","preventDefault","response","fetch","method","headers","body","JSON","stringify","title","content","newNote","json","setTitle","setContent","e","console","log","selectedNote","setSelectedNote","fetchNotes","handleNoteClick","note","handleUpdateNote","id","updatedNote","updatedNoteList","map","handleCancel","deleteNote","noteId","stopPropagation","updatedNotes","filter","className","children","onSubmit","value","onChange","target","placeholder","required","rows","type","onClick"],"sources":["/Users/neeradnandan/React_Apps/notes-app/notes-app-ui/src/App.tsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport \"./App.css\"\nimport { response } from \"express\";\n\ntype Note = {\n  id : number;\n  title : string;\n  content : string;\n}\n\nconst App = () => {\n  const [notes, setNotes] = useState<Note[]>([]);\n  const handleAddNote = async (\n    event : React.FormEvent) => {\n      event.preventDefault();\n\n      const response = await fetch(\"http://localhost:5001/api/notes\",\n        {\n          method : \"POST\",\n          headers: {\n            \"Content-Type\" : \"application/json\"\n          },\n          body : JSON.stringify({\n            title,\n            content,\n          })\n        }\n      );\n      \n      const newNote = await response.json();\n\n      try {\n        setNotes([newNote, ...notes]);\n        setTitle(\"\");\n        setContent(\"\");\n      } catch (e) {\n        console.log(e);\n      }\n  };\n\n  const [title, setTitle] = useState(\"\");\n  const [content, setContent] = useState(\"\");\n  \n  const [selectedNote, setSelectedNote] = \n    useState<Note | null>(null);\n  \n  useEffect(() => {\n    const fetchNotes = async () => {\n      try {\n        const response = await fetch(\"http://localhost:5001/api/notes\");\n        const notes: Note[] = await response.json();\n        setNotes(notes);\n      } catch (e) {\n        console.log(e);\n      }\n    };\n    fetchNotes();\n  }, []);\n\n  const handleNoteClick = (note : Note) => {\n    setSelectedNote(note);\n    setTitle(note.title);\n    setContent(note.content);\n  };\n\n  const handleUpdateNote = async (\n    event:React.FormEvent) => {\n      event.preventDefault();\n\n      if(!selectedNote) {\n        return;\n      }\n\n      try {\n        const response  = await fetch(\n          `http://localhost:5001/api/notes/${selectedNote.id}`,\n          {\n            method : 'PUT',\n            headers: {\n              \"Content-Type\" : \"application/json\"\n            },\n            body : JSON.stringify({\n              title,\n              content,\n            })\n          }\n        );\n\n        const updatedNote = await response.json();\n        const updatedNoteList = notes.map((note) =>\n        note.id === selectedNote.id\n            ? updatedNote\n            : note\n          );\n    \n          setNotes(updatedNoteList)\n          setTitle(\"\")\n          setContent(\"\")\n          setSelectedNote(null);\n      } catch (e) {\n        console.log(e);\n      }\n\n      \n  };\n\n  const handleCancel = () => {\n    setTitle(\"\")\n    setContent(\"\")\n    setSelectedNote(null);\n  };\n\n  const deleteNote = async (\n    event : React.MouseEvent, \n    noteId : number) => {\n      event.stopPropagation();\n\n      try {\n        await fetch(\n          `http://localhost:5001/api/notes/${noteId}`,\n          {\n            method: \"DELETE\",\n          }\n        );\n        const updatedNotes = notes.filter(\n          (note) => \n            note.id !== noteId\n        );\n         \n        setNotes(updatedNotes);\n      } catch (e) {\n        console.log(e);\n      }\n\n      \n  };\n\n  return(\n  <div className = \"app-container\">\n    <form className = \"note-form\" \n    onSubmit={(event) => \n      selectedNote \n      ? handleUpdateNote(event)\n      : handleAddNote(event)}>\n      <input \n      value = {title}\n      onChange= {(event) =>\n        setTitle(event.target.value)\n      }\n      placeholder = \"Title\"\n      required>\n      </input>\n      <textarea\n      value = {content}\n      onChange={(event) =>\n        setContent(event.target.value)\n      }\n      placeholder= \"Content\"\n      rows = {10}\n      required>\n      </textarea>\n      {selectedNote ? (\n        <div className = \"edit-buttons\">\n          <button type=\"submit\">Save</button>\n          <button onClick = {handleCancel}>\n            Cancel\n          </button>\n        </div>\n      ) : (\n        <button type=\"submit\">\n          Add Note\n        </button>\n      )}\n    </form>\n    <div className = \"notes-grid\">\n      {notes.map((note)=> (\n        <div \n        className = \"notes-item\"\n        onClick = {() => handleNoteClick(note)}\n          >\n        <div className = \"notes-header\">\n          <button onClick={\n            (event) =>\n              deleteNote(event, note.id)\n          }>x</button>\n        </div>\n        <h2>{note.title}</h2>\n        <p>{note.content}</p>\n      </div>\n      ))}\n      \n    </div>\n  </div>);\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}